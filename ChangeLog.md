
更新履歴 - ChangeLog
--------------------

2014/02/xx : **1.4.4**
* 追加機能もしくは仕様変更
	- **短編小説** に対応しました
		+ `narou list` コマンドで短編小説にはタイトルの後ろに（短編）と付きます
	- `narou list` コマンドが拡張されました
		+ 一覧の表示を絞る `--filter` オプションを追加しました（短縮 -f）
			- `--filter` に続いて `series` （連載）、`ss` （短編）を指定出来ます
			- コマンド例： `narou list --filter series` 連載小説のみを表示する
			- コマンド例： `narou list -f ss -rl` 短編小説のみを更新の古い順に表示する
		+ 表示する項目を増やす `--type` オプションを追加しました（短縮 -t）
			- オプションを指定すると「種別」という項目が追加され、「連載」か「短編」かが表示されます
	- `narou remove` コマンドに全ての短編小説を削除する `--all-ss` オプションが追加されました

2014/02/24 : **1.4.3**
* 追加機能もしくは仕様変更
	- **i文庫** に対応しました。専用のzipアーカイブを生成出来るようになります（txtと表紙、挿絵をzipで固めたもの）
		+ `narou s device=ibunko` で切り替えることが出来ます
		+ Drobbox等と連携をするために、 `narou s convert.copy_to=フォルダのパス` を設定することで、
		  zipファイルがコピーされるようになります
		+ i文庫専用レイアウトテンプレート、ibunko_novel.txt.erb が追加されました
		+ `narou convert` コマンドに `--no-zip` オプションが追加されました
	- `setting.ini` に濁点フォントの埋め込みを制御できる `enable_dakuten_font` が追加されました
	- あらすじ及び章も変換処理を施すように変更しました
		+ `converter#before` 及び `after` メソッドの text_type に、 `story` `chapter` が渡されるようになりました
* Bug Fix
	- Windowsにおいて、タイトル及び作者名にCP392外の文字が使われていた場合に変換がエラーになる問題を修正
		+ 変換時にエラーになった小説において、まだエラーが出る場合は一度削除（ `narou remove --with-file 小説ID` ）
		  して再ダウンロードをお願いします
	- 章タイトルが※で終わる小説をEPUB変換時に警告が出ていたのを修正

2014/02/20 : **1.4.1.1**
* Bug Fix
	- `narou init` 時にエラーが出るようになっていたのを修正

2014/02/20 : **1.4.1**
* Bug Fix
	- 1.4.0 で章情報が取得できていなかったのを修正

2014/02/20 : **1.4.0**
* 重要な修正
	- 小説家になろうのレイアウト変更によって更新処理ができなくなっていたものを修正しました

2014/02/03 : **1.3.5.1**
* Bug Fix
	- 過去バージョンとの互換性維持のため、フォルダ名のみ末尾スペースを削除するように変更

2014/02/03 : **1.3.5**
* Bug Fix
	- 小説を削除したあと再度ダウンロードしようとした場合にエラーが出ていたのを修正
	- タイトル名の末端に半角スペースがある小説が正常にダウンロード出来ない問題を修正
* 追加機能もしくは仕様変更
	- 小説変換プリセットに n2525bs (魔剣ゾルディの女主人公とっかえひっかえ成長記録) 追加
	- ダウンロードが完了した時に同時に凍結させるオプションを追加
		+ `download` コマンドに `--freeze` (短縮名 -z) オプションが追加されました
			* コマンド例： `narou download --freeze n4029bs`
			* コマンド例： `narou d n4029bs -z`
	- Mac上での動作改善コードの取り込み（https://github.com/yossoy/narou）
		+ java の動作不良対応、Kindle 対応

2013/12/25 : **1.3.4**
* Bug Fix
	- `narou init` 時に "" で囲まれたパスを認識できない不具合を修正

2013/10/30 : **1.3.3**
* 追加機能もしくは仕様変更
	- 送信対応端末に **SonyReader(PRS-T2)** を追加
		+ `narou setting device=reader` で切り替えることが出来ます

2013/10/29 : **1.3.2**
* 追加機能もしくは仕様変更
	- `default_args.*` の設定が使われるのは、各コマンドの引数が省略された時だけに変更
	- 各端末のボリュームラベルを大文字小文字区別しないで認識するように変更（Windowsのみ）
	- ダイジェスト化の自動検知機能を搭載。更新するかしないか、凍結してしまうかを選択可能に

2013/09/13 : **1.3.1**
* Bug Fix
	- 章情報の編集に対応できていなかったので修正
		+ 本アップデート以前にダウンロードした小説には反映されません。 `narou d -f` コマンドで強制上書きして下さい
	- 1.3.0.1 の修正で※が正しく区切り記号として認識されなくなっていたのを修正
	- タイトルが数字だけの場合に余分に空白が入ってしまうのを修正
* 追加機能もしくは仕様変更
	- 漢数字化しない場合、一桁のアラビア数字は全角化するように変更
	- タイトルのアラビア半角数字で特殊な処理を追加
		+ 行頭にある3桁の半角アラビア数字は全角化せず縦中横にする

2013/09/03 : **1.3.0.1**
* Bug Fix
	- ※記号の外字注記化コードによって正常に変換できなくなった問題を修正

2013/09/02 : **1.3.0**
* Bug Fix
	- `<PBR>` を使った場合にクラッシュする問題を修正
	- `1,000` のようにカンマで区切られた半角数字の変換が変なふうに縦中横になっていたのを横に倒すように修正
	- ※記号の直後に縦中横などの青空注記が来る場合に外字注記と誤認識されてしまう問題を修正
	- `enable_kanji_num_with_units` が `enable_convert_num_to_kanji` の設定を無視して有効になっていたのを修正
	- `enable_convert_num_to_kanji` がサブタイトルでも有効になっていたのを修正
		+ サブタイトルでは漢字変換を無効にする方針（原文尊重）
	- 漢数字の再変換がおかしかったのを修正
* 追加機能もしくは仕様変更
	- 漢字の二じゃなくて間違えてカタカナのニを使ってるのを校正する
	- `list` コマンドで新着を取得してから6時間以内の小説だけ新着色になるように修正
	- `⇒` が Kindle Paperwhite のフォントで縦書き時に回転しないので、 `→` に置換するようにした
		+ 他の端末では確認できていないので、とりあえず narou s device=kindle に設定してある場合のみ置換する
	- かぎ括弧内のとじ開きが正しくされているかどうか調査する設定を、デフォルトでオフに変更
		+ すでに setting.ini が書きだされている小説は対象外
	- 携帯用改行タグ `<KBR>` でも改行するように変更

2013/08/03 : **1.2.9**
* Bug Fix
	- 小説のタイトルに < 及び > が含まれている場合にエラーになっていた問題を修正
	- タイトルが二重に表示されてしまうバグがまだ発生したので修正
* 追加機能もしくは仕様変更
	- raw フォルダにテキストデータをそのまま保存する機能を追加
	- ライセンスを MIT に設定しました（過去のバージョンに遡って適用します）

2013/07/26 : **1.2.8**
* Bug Fix
	- なろうの仕様変更でタイトルがたまに二重に表示されてしまうバグ（？）に対処

2013/06/12 : **1.2.7**
* 追加機能もしくは仕様変更
	- 小説更新時及び `list` コマンドで新着話数があるかどうかを目視出来るようにした
		+ 更新時はタイトル横に (新着) 表示
		+ list コマンドでは当日に新着のあった小説の日付が紫になる
			- 新着表示が優先で、新着がなくて更新だけの場合は緑になる

2013/05/17 : **1.2.6**
* Bug Fix
	- `convert` コマンドで直接テキストファイルを変換時に電子書籍デバイスへ送信できなかった不具合を修正
* 追加機能もしくは仕様変更
	- `list` コマンドでその日に更新された小説の日付を緑にして分かりやすくした
	- 電子書籍デバイスへの自動送信で Kindle Fire/HD に対応（動作未確認）

2013/05/08 : **1.2.5.1**
* fix: 新規DL時にエラーが出る可能性あったので修正

2013/05/07 : **1.2.5**
* Bug Fix
	- 連続する文頭全角空白をすべてルビ対象外に 
	- Mac OS X での動作状況を改善
* 追加機能もしくは仕様変更
	- 連続空行の改ページ化設定をデフォルトでオフに変更

2013/04/20 : **1.2.4**
* Bug Fix
	- 自動行頭字下げの判定方法を調整(括弧等を除いた行に対する割合で計算するように変更)
	- かぎ括弧内自動連結時に、行末が！？で次の行頭が漢数字だった場合に全角空白が入らなかった問題を修正加
	- 更新チェック時にサブタイトルもチェックするようにした
	- サブタイトルの中の2桁以下の半角アラビア数字を強制縦中横化するようにした
		+ AozoraEpub3 の仕様で見出し内の自動縦中横化働かないため
* 追加機能もしくは仕様変更
	- サブタイトルの数字は漢数字化しないように変更
	- 区切り記号にタブを追加(preset/bordersymbols.txt)
	- 手動折り返しの自動連結をしないパターンに、行頭三点リーダーおよび全角ダッシュを追加
	- `download --force` 時に強制上書きする以前の仕様に戻した
	- 連続した句読点を三点リーダーに変換するようにした
	- 一定以上連続する空行を改ページに変換
		+ `setting.ini` に `enable_convert_page_break` 及び `to_page_break_threshold` を追加
	- 「Ｒｅ：ゼロから始める異世界生活」用の変換設定を追加

2013/04/01 : **1.2.3**
* 三点（二点）リーダーの偶数化が正常に動いていなかったのを修正
* 更新失敗時のエラーメッセージを分かりやすくした
* auto_indent で青空注記まで字下げされていたのを修正

2013/03/29 : **1.2.2**
* Bug Fix
	- 濁点付き文字の処理に不具合があったのを修正
	- 表紙画像がないときはAozoraEpub3に表紙指定をしないように修正（表紙がなくて挿絵がある場合対策）

2013/03/23 : **1.2.1**
* Bug Fix
	- ノノカギのとじ忘れがあると以降のノノカギのとじ開きが逆になってしまうバグを修正
		* この修正によって改行を含んだノノカギでおかしくなるが、仕様とする
	- 濁点フォント(DMincho.ttf)に含まれていない文字は縦中横の擬似表現にする
	- アラビア数字の漢数字化がちゃんと変換できていなかったのを修正
* 追加機能もしくは仕様変更
	- `send` コマンドで管理する全ての小説を送信する機能追加
		* `send` を引数なしで実行することで、端末にある書籍データより新しければ送信する
	- DMincho.ttfの濁点対応文字を増やした（ι゛ および カタカナに濁点）。 **narou init でAozoraEpub3の再設定が必要です**
	- コマンドのデフォルトのオプションを指定できる機能を追加
		* `narou setting default_args.コマンド名="オプション"` で設定出来ます。注意：これは、直接コマンドを発行した時のみ有効です。
		  他のコマンド経由で呼ばれる場合には有効にはなりません。
		
		```
		# 使用例
		# list コマンドで、「更新日の」「古い順」に表示するオプションを設定(リストが長くなった時に便利)
		narou setting default_args.list="-lr"
		# オプションを指定しなくても、default_args.listで設定したオプションが使われる
		narou list
		
		# 削除確認メッセージ毎回表示しない
		narou setting default_args.remove="-y"
		narou remove 0
		```

2013/03/19 : **1.2.0**
* Bug Fix 及び機能改善
	- Windows以外のOSでの動作状況を改善しました(Ubuntu Linuxで確認。Mac OS Xは未確認だが恐らく動くはず)
		+ Nコードを指定した場合にエラーが出ていたのを修正
		+ AozoraEpub3の出力をうまく扱えていなくエラーが出ていたのを修正
		+ Linuxでも `folder` 及び `browser` コマンドを使えるように改善
		+ `send` コマンドでデバイスへ送信出来るように(Linuxのみ確認、Mac OS Xは未確認)
			- /media もしくは /mnt を探します。送信出来ない場合はこのフォルダにマウントされているか確認して下さい
	- shebangの記述をちゃんと動くように修正(gem でインストールした場合は影響なし)
	- --no-color 時の処理の最適化
* 追加機能もしくは仕様変更
	- 漢数字の単位化下限のデフォルトを3桁から4桁へ変更(kanji_num_with_units_lower_digit_zero=3)
		+ `100 → 一〇〇、1000 → 千` と変換される
	- 章タイトルページの柱の位置調整
	- 行頭二分アキをいれる対象にノノカギ（〝）を追加
	- ！？の直後に全角アキを自動挿入しないパターンに閉じノノカギ（〟）を追加
	- 小説のDL時に最初から用意された変換設定を適用する機能追加
		+ 以下の小説の設定を同梱しました（気まぐれで増えていきます）
			- [オーバーロード：後編](http://ncode.syosetu.com/n1839bd/)
			- [異世界迷宮で奴隷ハーレムを](http://ncode.syosetu.com/n4259s/)
			- [ログ・ホライズン](http://ncode.syosetu.com/n8725k/)
			- [無職転生　- 異世界行ったら本気だす -](http://ncode.syosetu.com/n9669bk/)

2013/03/18 : **1.1.2.1**
* Bug Fix
	- Linuxで実行不可能になるエラー修正

2013/03/17 : **1.1.2**
* Bug Fix
	- Fiddleがない環境でエラーになってたので修正
	- 同一行に（）と《》のルビが混在していた時に正しく処理出来ていなかったのを修正
	- 短編小説をDLしようとした時にDL出来ない旨メッセージを表示するように
	- ！？の縦中横化で自然ではない変換パターンに対応
* 追加機能もしくは仕様変更
	- なろうのルビ仕様に追随
		+ 全角空白もルビ対象として許容する
		+ サブタイトルのカッコはルビをふらない
	- 中黒(・)を３個以上連続して使っているのを三点リーダーに変換する機能実装
		+ `setting.ini` に `enable_convert_horizontal_ellipsis` を追加
	- 表示を若干色つけするように
		+ 色つけを抑制にするには `--no-color` オプションか `narou s no-color=true` で
	- 節のタイトル（中見出し）の位置を若干調整 (template/novel.txt.erb)

2013/03/09 : **1.1.1**
* Bug Fix
	- URL文字列のリンクを a タグに変更し忘れ修正
	- update コマンドにIDを直指定した時の変換時に不正な引数を渡していたのを修正
* 追加機能もしくは仕様変更
	- 三点リーダーの偶数化を１つからするように変更

2013/03/07 : **1.1.0**
* Bug Fix
	- xhtml_nav.vm の＜/ol＞＜/li＞が過剰付与だったのを修正
	- ｜《るび》　な場合、ルビ化を無効にする（なろうの仕様に追随）
* 追加機能もしくは仕様変更
	- Ruby2.0.0対応

2013/03/07 : **1.1.0.rc2**
* Bug Fix
	- `update` コマンドに存在しない小説を指定した場合にエラーが出るバグを修正
	- `convert -o` オプションが正常に動いていなかったバグを修正
	- テキストファイル変換時のバグ修正
* 追加機能もしくは仕様変更
	- `update` コマンドで全ての小説を更新する場合、 `convert.no-open` の設定にかかわらず
		保存フォルダは開かないようにした
	- 18禁小説をDL時に年齢認証をするようにした
	- ルビの大きさは 0.6em に調整

2013/03/02 : **1.1.0.rc1**
* 1.1.0の正式リリースに向けてのテストリリース
   (1.0 系はテスト用非公開バージョン)

2013/02/24 : **1.0.0**
* first release (closed beta version)
